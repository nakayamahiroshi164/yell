<main class="main">
  <div class="inner">
    <div class="container-calendar">
     <div class="user-selector">
     
  <%= form_tag weightlosses_path, method: :get, id: "user-selector-form" do %>
    <%= select_tag :user_id, options_from_collection_for_select(@users, :id, :name), prompt: "ユーザーを選択" %>
    <%= submit_tag "選択" %>
  <% end %>
</div>
      <h4 id="monthAndYear"></h4>
      <div class="button-container-calendar">
          <button id="previous" onclick="previous()">‹</button>
          <button id="next" onclick="next()">›</button>
      </div>
     
<% if params[:user_id] %>
  <h2><%= User.find(params[:user_id]).name %>の減量情報</h2>
  <% @weightlosses.where(user_id: params[:user_id]).each do |weightloss| %>
    <!-- 投稿の表示 -->
  <% end %>
<% else %>
  <% @weightlosses.each do |weightloss| %>
    <!-- 投稿の表示 -->
  <% end %>
<% end %>
      <table class="table-calendar" id="calendar" data-lang="ja">
  <thead id="thead-month"></thead>
  <tbody id="calendar-body">
    <% @calendar.each do |date, weightloss| %>
      <tr>
        <td>
          <% if weightloss %>
            <%= link_to date.day, weightloss_path(weightloss), class: 'calendar__link' %>
          <% else %>
            <%= date.day %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
      <div class="footer-container-calendar">
          <label for="month">日付指定：</label>
          <select id="month" onchange="jump()">
              <option value=0>1月</option>
              <option value=1>2月</option>
              <option value=2>3月</option>
              <option value=3>4月</option>
              <option value=4>5月</option>
              <option value=5>6月</option>
              <option value=6>7月</option>
              <option value=7>8月</option>
              <option value=8>9月</option>
              <option value=9>10月</option>
              <option value=10>11月</option>
              <option value=11>12月</option>
          </select>
          <select id="year" onchange="jump()"></select>
      </div>
    </div>

    <div class="card__wrapper">
      <%= render partial: 'weightloss', collection: @weightlosses %>
    </div>
  </div>
</main>